<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<div th:replace="assets/topbar :: setContent('')"></div>
<main class="container mx-auto mt-8">
    <!-- 글 내용 -->
    <div class="bg-white shadow-md rounded p-6">
        <p class="text-gray-500 text-l"
           th:text="${dto.boardMajor}+' 게시판'">
        </p>
        <h2 class="text-2xl font-bold" th:text="${dto.title}"></h2>
        <p class="text-gray-500 text-sm"
           th:text="'작성자: ' + ${dto.writerName} + ' | '+ ${dto.writerMajor} + ' | '+'작성일: '+ ${#temporals.format(dto.regDate, 'yyyy.MM.dd HH:mm')} + (${dto.modDate != dto.regDate} ? ' | 수정일: ' + ${#temporals.format(dto.modDate, 'yyyy.MM.dd HH:mm')} : '')">
        </p>



        <p class="mt-4 text-gray-800" th:text="${dto.content}"></p>

        <!-- 추천/비추천 버튼 -->
        <div class="flex justify-center items-center mt-6 space-x-8">
            <!-- 추천 버튼 -->
            <button class="flex items-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
                <span class="text-lg">👍</span>
                <span class="ml-2" th:text="'추천(' + ${dto.likes} + ')'"></span>
            </button>

            <!-- 비추천 버튼 -->
            <button class="flex items-center bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">
                <span class="text-lg">👎</span>
                <span class="ml-2" th:text="'비추천(' + ${dto.disLikes} + ')'"></span>
            </button>
        </div>
    </div>

    <!-- 댓글 섹션 -->
    <div class="bg-white shadow-md rounded p-6 mt-6">
        <h3 class="text-xl font-bold mb-4">댓글</h3>
        <ul>
            <li class="border-b py-4">
                <p class="text-gray-800">좋은 글이네요! 감사합니다.</p>
                <p class="text-gray-500 text-sm">작성자: 댓글러 | 2024-11-26</p>
            </li>
        </ul>

        <!-- 댓글 작성 -->
        <form class="mt-4">
            <textarea class="w-full border rounded p-2" rows="3" placeholder="댓글을 작성하세요."></textarea>
            <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 mt-2">
                댓글 작성
            </button>
        </form>
    </div>

    <!-- 뒤로가기 및 수정 버튼 -->
    <div class="text-right mt-4 flex justify-end space-x-4">
        <div class="text-right mt-4 flex justify-end space-x-4">
            <!-- 삭제하기 버튼 -->
            <form th:action="@{/board/remove}" method="post" th:if="${loginDTO.Role} == 'MANAGER' or ${loginDTO.Role} == 'ADMIN' or ${dto.writerName} == ${loginDTO.nickName}"
                  th:object="${dto}" onsubmit="return confirm('정말 삭제하시겠습니까?')">
                <input type="hidden" name="id" th:value="${dto.id}">
                <input type="hidden" name="page" th:value="${requestDTO.page}">
                <input type="hidden" name="type" th:value="${requestDTO.type}">
                <input type="hidden" name="keyword" th:value="${requestDTO.keyword}">
                <input type="hidden" name="category" th:value="${requestDTO.category}">
                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700">
                    삭제하기
                </button>
            </form>
            <!-- 수정하기 버튼 -->
            <a th:if=" ${dto.writerName} == ${loginDTO.nickName}" th:href="@{/board/modify(id=${dto.id}, page=${pageRequestDTO.page}, type=${pageRequestDTO.type}, keyword=${pageRequestDTO.keyword}, category=${pageRequestDTO.category})}"
               class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                수정하기
            </a>
            <!-- 목록으로 버튼 -->
            <a th:href="@{/board/list(page=${pageRequestDTO.page}, type=${pageRequestDTO.type}, keyword=${pageRequestDTO.keyword}, category=${pageRequestDTO.category})}"
               class="bg-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-400">
                목록으로
            </a>
        </div>

    </div>
</main>
</html>
